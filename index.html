<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Go 工具箱</title>

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/cp-checker.css">
    <link rel="stylesheet" href="css/id-selector.css">
    <link rel="stylesheet" href="css/research.css">
    <link rel="stylesheet" href="css/eggs.css">
    <link rel="stylesheet" href="css/raids.css">
    <link rel="stylesheet" href="css/pvp-ranker.css"> 
    <link rel="stylesheet" href="css/level-up.css">
    <link rel="stylesheet" href="css/search-filters.css">
    <link rel="stylesheet" href="css/special-research.css">
    <link rel="stylesheet" href="css/info-hub.css">
</head>
<body>
<div id="loading-overlay">
    <div class="pokeball-loader">
        <div class="pokeball-top"></div>
        <div class="pokeball-bottom"></div>
        <div class="pokeball-center-outer">
            <div class="pokeball-center-inner"></div>
        </div>
        <div class="pokeball-light-flash"></div>
    </div>
</div>
<header class="site-header-main">
     <div id="auth-container">
        <span id="user-info" style="display: none;"></span>
        <button id="auth-button">登入</button>
    </div>
<nav class="app-nav">
    <button class="hamburger-button" aria-label="開啟選單" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div class="nav-links">
        <button class="tab-button active" data-target="docs-app">功能說明</button>

        <div class="nav-group">
            <button class="group-title">常用查詢</button>
            <div class="sub-links">
                <button class="tab-button" data-target="cp-checker-app">IV100 CP 查詢</button>
                <button class="tab-button" data-target="pvp-ranker-app">PvP IV 排名查詢</button>
                <button class="tab-button" data-target="id-selector-app">寶可夢編號篩選器</button>
                <button class="tab-button" data-target="search-filters-app">搜尋篩選指令</button>
            </div>
        </div>

        <div class="nav-group">
            <button class="group-title">遊戲資訊</button>
            <div class="sub-links">
                <button class="tab-button" data-target="raids-app">團體戰列表</button>
                <button class="tab-button" data-target="eggs-app">孵蛋列表</button>
                <button class="tab-button" data-target="research-app">田野調查任務</button>
                <button class="tab-button" data-target="special-research-app">特殊調查</button>
                <button class="tab-button" data-target="level-up-app">升級條件</button>
                <button class="tab-button" data-target="info-hub-app">特別資訊</button>
            </div>
        </div>
    </div>
    </nav>
</header>
    <div class="main-container">
<div id="docs-app" class="app-content active">
    <div class="container" style="max-width: 900px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); padding: 24px 40px; margin: 20px auto;">
        <style>
            #docs-app h1, #docs-app h2, #docs-app h3 { color: #1877f2; border-bottom: 2px solid #e9ebee; padding-bottom: 10px; margin-top: 40px; }
            #docs-app h1 { text-align: center; border-bottom: none; }
            #docs-app h3 { color: #050505; font-size: 1.4em; border-bottom-style: dashed; }
            #docs-app code { background-color: #e9ebee; padding: 3px 6px; border-radius: 4px; font-family: Consolas, 'Courier New', monospace; color: #e63946; }
            #docs-app table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 16px; }
            #docs-app th, #docs-app td { border: 1px solid #dddfe2; padding: 12px; text-align: left; }
            #docs-app th { background-color: #f5f6f7; font-weight: bold; }
            #docs-app p { line-height: 1.7; }
            #docs-app ul, #docs-app ol { line-height: 1.7; }
        </style>
         <h1>Pokémon Go 工具箱：功能使用說明</h1>
         <p>這是一個包含多種實用工具的網頁應用程式，旨在幫助 Pokémon Go 玩家更方便地查詢資訊和管理遊戲內容。</p>
 
         <h2>各項工具使用說明</h2>
 
         <h3>1. IV100 CP 查詢</h3>
         <p><strong>功能目的</strong>: 快速查詢一隻寶可夢在等級 15 (田野調查獎勵)、等級 20 (孵蛋/團體戰/小隊合作任務) 和等級 25 (天氣加成) 時的 100% IV 對應 CP 值。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>進入頁面後，會自動載入所有寶可夢的 CP 資料。</li>
             <li>在頂部的搜尋框中，您可以輸入 <strong>寶可夢的中文名稱</strong> 或 <strong>全國圖鑑編號(如:1 是妙蛙種子、151 是夢幻)</strong> 來進行篩選。</li>
             <li>列表會即時更新，顯示符合條件的寶可夢及其 CP 資訊。</li>
         </ol>
 
         <h3>2. 寶可夢編號篩選器</h3>
         <p><strong>功能目的</strong>: 讓玩家可以方便地勾選多隻寶可夢，並產生一串以逗號分隔的全國圖鑑編號。這串數字可以直接複製並貼到 Pokémon Go 遊戲內的搜尋框中使用。 </p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li><strong>選擇/取消</strong>: 直接點擊寶可夢的圖片即可選取；再次點擊則取消選取。被選中的寶可夢會有亮黃色外框。</li>
             <li><strong>搜尋寶可夢</strong>: 可在上方的搜尋框輸入 <strong>名稱</strong> 或 <strong>編號</strong> 快速找到特定的寶可夢。</li>
             <li><strong>快速篩選按鈕</strong>:
                 <ul>
                     <li><code>顯示所有御三家</code> / <code>準神</code> / <code>可超級進化</code>: 點擊按鈕可快速篩選出特定分類的寶可夢。</li>
                     <li><code>包含進化型態</code> (核取方塊): 勾選此選項後，再點擊旁邊的按鈕，可以將該分類的整個進化鏈都顯示出來。</li>
                 </ul>
             </li>
             <li><strong>批次操作按鈕</strong>:
                 <ul>
                     <li><code>勾選所有進化型態</code>: 一鍵選擇所有非初階型態的寶可夢。</li>
                     <li><code>清除所有選擇</code>: 清除目前所有已選中的寶可夢。</li>
                     <li><code>全選當前顯示</code>: 在使用篩選功能後，點擊此按鈕可以一次選取所有當前顯示在畫面上的寶可夢。</li>
                 </ul>
             </li>
             <li><strong>複製結果</strong>: 在頂部的輸出框會即時顯示已選編號，點擊旁邊的「複製」按鈕即可將字串複製到剪貼簿。</li>
         </ol>
 
         <h3>3. 田野調查任務</h3>
         <p><strong>功能目的</strong>: 顯示當前賽季所有可獲得的田野調查任務，以及完成後可能獲得的獎勵。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>任務會根據其類型（如：捕捉、投球、夥伴）進行分類，並以雙欄佈局呈現。</li>
             <li><strong>切換視圖</strong>: 點擊頂部的 <code>精選獎勵</code> / <code>所有獎勵</code> 開關，可以篩選出僅包含異色機會或特殊寶可夢的任務，或是顯示全部任務。</li>
             <li><strong>查看詳細獎勵</strong>: 點擊任一任務卡牌，即可展開查看所有可能的獎勵。 如果獎勵是寶可夢，還會顯示其 100% IV 的 CP 值範圍。</li>
         </ol>
 
         <h3>4. 孵蛋列表</h3>
         <p><strong>功能目的</strong>: 提供當前賽季可以從各種距離的蛋中孵化出的寶可夢列表。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>頁面內容根據蛋的公里數（2km, 5km, 7km, 10km, 12km）進行劃分。</li>
             <li>同時也包含了特殊的蛋池，例如「冒險同步獎勵」和「路線禮物」中獲得的蛋。</li>
             <li>每隻寶可夢都會顯示其圖片、名稱、CP 範圍，如果該寶可夢有機率是異色，右上角會顯示一個閃爍的異色圖示。</li>
         </ol>
 
         <h3>5. 升級條件</h3>
         <p><strong>功能目的</strong>: 以圖片形式提供玩家從 40 級升到 50 級所需的經驗值和各項挑戰任務。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>此頁面為一系列的圖片總覽。</li>
             <li>點擊任何一張圖片，都可以在新的分頁中開啟大圖，方便您查看細節。</li>
         </ol>
 
         <h3>6. 搜尋篩選指令</h3>
         <p><strong>功能目的</strong>: 這是一份 Pokémon Go 遊戲內搜尋功能的「小抄」，完整列出了所有可以用來篩選寶可夢和朋友列表的指令。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>此頁面為靜態的說明文件，內容以表格呈現。</li>
             <li><strong>寶可夢篩選</strong>: 包含了從基本屬性 (如 <code>異色</code>、<code>傳說的寶可夢</code>) 到進階語法 (如 <code>4攻擊&4防禦</code>、<code>@天氣</code>) 的各種指令。</li>
             <li><strong>朋友列表篩選</strong>: 另一區塊則介紹了如何篩選朋友，例如找出「亮晶晶好朋友」或當天尚未互動的朋友。</li>
             <li><strong>邏輯運算子</strong>: 同時也說明了如何使用 <code>&</code> (和)、<code>,</code> (或)、<code>!</code> (非) 等符號進行組合搜尋。</li>
         </ol>
 
         <h3>7. 特殊調查</h3>
         <p><strong>功能目的</strong>: 彙整了遊戲中所有的特殊調查任務，讓玩家可以查詢每個調查的完整流程、關卡任務及獎勵。</p>
         <p><strong>如何使用</strong>:</p>
         <ol>
             <li>所有特殊調查以卡片形式依發布日期排序。</li>
             <li><strong>展開/收合</strong>: 點擊任一調查的標題，即可展開或收合該調查的詳細步驟。</li>
             <li><strong>一般搜尋</strong>: 在頂部的搜尋框輸入關鍵字，可以快速篩選出標題包含該關鍵字的特殊調查。</li>
             <li><strong>進階搜尋</strong>: 勾選搜尋框下方的 <code>包含任務及獎勵內容</code>，可以將搜尋範圍擴大到每關的任務描述和獎勵內容，進行更全面的查找。</li>
         </ol>
     </div>
</div>
        <div id="cp-checker-app" class="app-content">
             <div class="container">
                <h1>Pokémon Go</h1>
                <p style="text-align: center; margin-top: -15px; margin-bottom: 25px; color: #606770;">15等、20等 & 25等 IV100 CP 查詢</p>
                <div class="search-area">
                    <input type="text" id="cpSearchInput" placeholder="輸入寶可夢名稱、形態或全國圖鑑編號...">
                    <button class="clear-search-btn" aria-label="清除搜尋內容">&times;</button>
                </div>
                <div id="statusMessage">正在初始化...</div>
                <div id="resultsContainer"></div>
             </div>
        </div>

        <div id="pvp-ranker-app" class="app-content">
            <div class="container">
                <h1>Pokémon Go PvP IV 排名查詢器</h1>
                <div class="controls">
                    <div class="search-container">
                        <label for="pokemon-input">輸入寶可夢名稱或編號</label>
                        <input type="text" id="pokemon-input" placeholder="例如：妙蛙種子 或 1" autocomplete="off">
                        <span id="clear-btn" class="clear-button hidden">&times;</span>
                        <div id="search-results"></div>
                    </div>

                    <div class="iv-inputs">
                        <div class="iv-control">
                            <div class="iv-label-select">
                                <label for="atk-iv">攻擊 (ATK)</label>
                                <select id="atk-iv"></select>
                            </div>
                            <div class="iv-slider" data-iv="atk">
                                <div class="iv-slider-track">
                                    <div class="iv-slider-progress" id="atk-progress"></div>
                                </div>
                            </div>
                        </div>
                        <div class="iv-control">
                            <div class="iv-label-select">
                                <label for="def-iv">防禦 (DEF)</label>
                                <select id="def-iv"></select>
                            </div>
                            <div class="iv-slider" data-iv="def">
                                <div class="iv-slider-track">
                                    <div class="iv-slider-progress" id="def-progress"></div>
                                </div>
                            </div>
                        </div>
                        <div class="iv-control">
                            <div class="iv-label-select">
                                <label for="hp-iv">體力 (HP)</label>
                                <select id="hp-iv"></select>
                            </div>
                            <div class="iv-slider" data-iv="hp">
                                <div class="iv-slider-track">
                                    <div class="iv-slider-progress" id="hp-progress"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="current-stats-inputs">
                        <div>
                            <label for="current-level">目前等級: <span id="current-level-value">40</span></label>
                            <input type="range" id="current-level" min="1" max="51" step="0.5" value="40">
                        </div>
                        <div>
                            <label>目前CP</label>
                            <span id="current-cp-display" class="cp-display">-</span>
                        </div>
                    </div>
                </div>
                <div id="results-container" class="hidden"></div>
            </div>
        </div>

        <div id="id-selector-app" class="app-content">
            <header>
                <h1>寶可夢編號篩選器</h1>
                <p>點擊圖片來選擇或取消選擇寶可夢。</p>
                <footer>
                    <div id="output-container">
                        <div class="output-header">
                            <h3>已選擇的寶可夢編號：</h3>
                            <button id="copy-button" title="一鍵複製所有編號">複製</button>
                        </div>
                        <code id="selected-ids"></code>
                    </div>
                </footer>
            </header>
            <main>
                <div class="search-container">
                    <div class="input-wrapper">
                        <input type="search" id="idSearchInput" placeholder="依編號或名稱搜尋寶可夢...">
                        <button class="clear-search-btn" aria-label="清除搜尋內容">&times;</button>
                    </div>
                </div>
        
<div class="controls-container">
    <fieldset class="control-fieldset">
        <legend>分類篩選</legend>
        <div class="filter-group">
            <button id="select-starters">御三家</button>
            <label><input type="checkbox" id="include-starter-evolutions"> 包含進化型態</label>
        </div>
        <div class="filter-group">
            <button id="select-pseudos">準神</button>
            <label><input type="checkbox" id="include-pseudo-evolutions"> 包含進化型態</label>
        </div>
        <div class="filter-group">
            <button id="select-mega">可超級進化</button>
            <label><input type="checkbox" id="include-mega-evolutions"> 包含進化型態</label>
        </div>
    </fieldset>

    <fieldset class="control-fieldset">
        <legend>PvP 排名篩選</legend>
        <div class="filter-group pvp-filter-group">
            <select id="pvp-league-select">
                <option value="1500">超級聯盟</option>
                <option value="2500">高級聯盟</option>
                <option value="10000">大師聯盟</option>
            </select>
            <label for="pvp-rank-limit">前</label>
            <input type="number" id="pvp-rank-limit" value="100" min="1" max="500">
            <label for="pvp-rank-limit">名</label>
            <button id="filter-pvp-rank">篩選</button>
        </div>
        <div class="filter-group">
            <label>
                <input type="checkbox" id="include-pvp-evolutions"> 顯示進化/退化型態
            </label>
        </div>
        </fieldset>

    <fieldset class="control-fieldset">
        <legend>批次操作</legend>
        <div class="action-buttons">
            <button id="select-evolved">勾選所有進化型態</button>
            <button id="select-all-shown" style="display:none;">全選當前顯示</button>
            <button id="show-all">顯示全部</button>
            <button id="clear-all">清除所有選擇</button>
        </div>
    </fieldset>
</div>
                <div id="pokemon-container" class="pokemon-grid"></div>
            </main>
        </div>
        
        <div id="research-app" class="app-content">
            <header>
                <h1>當前田野調查任務</h1>
                <p style="text-align: center; color: #606770;">資料來源：<a href="https://leekduck.com/research/" target="_blank" rel="noopener noreferrer">Leek Duck</a></p> 
                <div class="tabs">
                    <input type="radio" id="less-option" name="reward-toggle" checked>
                    <label class="tab" for="less-option">精選獎勵</label>
                    <input type="radio" id="all-option" name="reward-toggle">
                    <label class="tab" for="all-option">所有獎勵</label>
                    <span class="glider"></span>
                </div>
            </header>
            <main id="research-container">
                <div id="left-column" class="research-column"></div>
                <div id="right-column" class="research-column"></div>
            </main>
        </div>
        
        <div id="eggs-app" class="app-content">
            <div class="page-content">
                <div class="header-page">
                    <h1 class="page-title">當期蛋池孵化列表</h1>
                    <div class="page-date">最後更新：</div>
                </div>
                <p style="text-align: center; color: #606770;">資料來源：<a href="https://leekduck.com/eggs/" target="_blank" rel="noopener noreferrer">Leek Duck</a></p>
                <p>這些是 Pokémon GO 目前「快樂每一天」季節中所有可能的孵化寶可夢。</p>
                <hr/>
                
                <h2>2 公里蛋</h2>
                <ul class="egg-list-flex" id="egg-list-2km"></ul>
                <hr/>
                
                <h2>5 公里蛋</h2>
                <ul class="egg-list-flex" id="egg-list-5km"></ul>
                
                <h2>5 公里蛋 (冒險同步獎勵)</h2>
                <p>此類蛋可從每週的「時時刻刻冒險」獎勵中獲得。</p>
                <ul class="egg-list-flex" id="egg-list-5km-sync"></ul>
                <hr/>
                
                <h2>7 公里蛋</h2>
                <ul class="egg-list-flex" id="egg-list-7km"></ul>

                <h2>7 公里蛋 (路線禮物)</h2>
                <p>此類蛋可從路線終點交換夥伴「馬特奧」的友情禮物中獲得。</p>
                <ul class="egg-list-flex" id="egg-list-7km-route"></ul>
                <hr/>

                <h2>10 公里蛋</h2>
                <ul class="egg-list-flex" id="egg-list-10km"></ul>
                
                <h2>10 公里蛋 (冒險同步獎勵)</h2>
                <p>此類蛋可從每週的「時時刻刻冒險」獎勵中獲得。</p>
                <ul class="egg-list-flex" id="egg-list-10km-sync"></ul>
                <hr/>
                
                <h2>12 公里蛋</h2>
                <ul class="egg-list-flex" id="egg-list-12km"></ul>
            </div>
        </div>
        <div id="raids-app" class="app-content">
            <div class="page-content">
                <div class="header-page">
                    <h1 class="page-title">當期團體戰頭目列表</h1>
                    <div class="page-date">最後更新：</div>
                </div>
                <p style="text-align: center; color: #606770;">資料來源：<a href="https://leekduck.com/raids/" target="_blank" rel="noopener noreferrer">Leek Duck</a></p>
                <p>這些是 Pokémon GO 目前活動中的團體戰頭目。</p>
                <hr/>

                <h2>1星團體戰</h2>
                <div class="raid-tier-container" id="raid-tier-1"></div>
                <hr/>

                <h2>3星團體戰</h2>
                <div class="raid-tier-container" id="raid-tier-3"></div>
                <hr/>

                <h2>5星傳說團體戰</h2>
                <div class="raid-tier-container" id="raid-tier-5"></div>
                <hr/>

                <h2>超級團體戰</h2>
                <div class="raid-tier-container" id="raid-mega"></div>
            </div>
        </div>
        <div id="level-up-app" class="app-content">
            <header>
                <h1>Pokémon Go 等級挑戰 & 升級條件</h1>
                <p style="text-align: center; color: #606770;">點擊圖片可於新分頁開啟大圖。資料來源：<a href="https://x.com/pokemongojiang" target="_blank" rel="noopener noreferrer">Professor Jiang</a></p>
            </header>
            <div class="level-up-grid">
                <a href="./img/41-46.jpg" target="_blank"><img src="./img/41-46.jpg" alt="等級 41-46 升級條件"></a>
                <a href="./img/47-50.jpg" target="_blank"><img src="./img/47-50.jpg" alt="等級 47-50 升級條件"></a>
                <a href="./img/43.jpg" target="_blank"><img src="./img/43.jpg" alt="43級挑戰 特殊調查"></a>
                <a href="./img/45.jpg" target="_blank"><img src="./img/45.jpg" alt="45級挑戰 特殊調查"></a>
                <a href="./img/48.jpg" target="_blank"><img src="./img/48.jpg" alt="48級挑戰 特殊調查"></a>
                <a href="./img/50.jpg" target="_blank"><img src="./img/50.jpg" alt="50級挑戰 特殊調查"></a>
            </div>
        </div>

<div id="search-filters-app" class="app-content">
    <div class="container">
        <h1>Pokémon Go 搜尋篩選指令大全</h1>
        
        <h2>寶可夢搜尋篩選條件</h2>

        <h3>1. 固定字詞</h3>
        <table>
            <thead>
                <tr>
                    <th>搜尋字詞</th>
                    <th>功能</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>雄性、雌性、性別不明</td><td>分別篩選出「男性、女性、無性別」的寶可夢。</td></tr>
                <tr><td>異色</td><td>篩選出所有「異色（色違）」寶可夢。</td></tr>
                <tr><td>亮晶晶</td><td>篩選出所有透過交易獲得的「亮晶晶」寶可夢。</td></tr>
                <tr><td>傳說的寶可夢</td><td>篩選出所有「神獸」寶可夢。</td></tr>
                <tr><td>究極異獸</td><td>篩選出所有「究極異獸」寶可夢。</td></tr>
                <tr><td>幻</td><td>篩選出所有「幻之寶可夢」。</td></tr>
                <tr><td>特殊</td><td>篩選出所有穿戴特殊裝扮的寶可夢（例如：戴帽子的皮卡丘）。</td></tr>
                <tr><td>孵化</td><td>篩選出所有從蛋中孵化出來的寶可夢。</td></tr>
                <tr><td>只限蛋</td><td>篩選出所有「寶寶型態」的寶可夢。</td></tr>
                <tr><td>進化</td><td>篩選出所有目前「可以進化」的寶可夢。</td></tr>
                <tr><td>超級進化</td><td>篩選出所有目前「可以超級進化」的寶可夢。</td></tr>
                <tr><td>交換進化</td><td>篩選出所有可透過交換免除糖果即可進化的寶可夢。</td></tr>
                <tr><td>道具</td><td>篩選出所有目前可以使用進化道具進化的寶可夢。</td></tr>
                <tr><td>未登錄</td><td>篩選出所有進化後可以解鎖圖鑑的寶可夢。</td></tr>
                <tr><td>糖果XL</td><td>篩選出所有使用過 XL 糖果升等的寶可夢。</td></tr>
                <tr><td>交換</td><td>篩選出所有透過「交換得到」的寶可夢。</td></tr>
                <tr><td>調查 / Snapshot / 火箭隊</td><td>篩選從「田野調查」、「AR照亂入」或「擊敗火箭隊」獲得的獎勵寶可夢（僅限 2020 年 11 月後）。</td></tr>
                <tr><td>淨化 / 暗影</td><td>分別篩選出「淨化」或「暗影」寶可夢。</td></tr>
                <tr><td>防禦者</td><td>篩選出目前正在「佔領道館中」的寶可夢。</td></tr>
                <tr><td>@天氣</td><td>篩選出當下招式受到「天氣加成」的寶可夢。</td></tr>
                <tr><td>@特別</td><td>篩選出擁有「絕版招式」的寶可夢。</td></tr>
            </tbody>
        </table>

        <h3>2. 名稱、編號及地區</h3>
        <p><b>名字/暱稱：</b>可直接輸入寶可夢名字或暱稱，例如 <code>百變怪</code>。使用 <code>+</code> 可搜尋整個進化鏈，例如 <code>+快龍</code> 會顯示迷你龍、哈克龍及快龍。</p>
        <p><b>編號：</b>可輸入全國圖鑑編號。支援範圍搜尋，例如 <code>1-151</code> 代表第一代所有寶可夢。</p>
        <p><b>地區：</b>可直接輸入地區名稱，例如 <code>關都</code>, <code>城都</code>, <code>豐緣</code> 等。</p>

        <h3>3. 捕捉時間與距離</h3>
        <p><b>日數：</b>篩選特定時間內捕捉的寶可夢。例如 <code>日數0</code> 是24小時內，<code>日數365-</code> 是超過一年前。</p>
        <p><b>年：</b>篩選特定年份捕捉的寶可夢，例如 <code>年2016</code>。</p>
        <p><b>距離：</b>篩選與目前位置相距特定距離的寶可夢。例如 <code>距離100-</code> 代表超過100公里外。</p>

        <h3>4. 屬性與招式</h3>
        <p><b>屬性：</b>輸入屬性名稱，例如 <code>冰</code>。</p>
        <p><b>招式：</b>使用 <code>@</code> 前綴。例如 <code>@破壞光線</code> 或 <code>@火</code>。<code>@1</code> 代表普通招式，<code>@2</code> 和 <code>@3</code> 分別代表第一和第二特殊招式。</p>

        <h3>5. CP、HP、IV 及夥伴/超級等級</h3>
        <p><b>CP/HP：</b>支援範圍搜尋，例如 <code>cp2000-3000</code> 或 <code>hp200-</code>。</p>
        <p><b>IV 星級：</b>使用 <code>0*</code> 到 <code>4*</code> 來篩選隊長評價星等。</p>
        <p><b>IV 細項：</b>可篩選攻擊、防禦、HP 的 IV 值，例如 <code>4攻擊&4防禦&4HP</code> 代表完美IV。數字0-4對應IV值0, 1-5, 6-10, 11-14, 15。</p>
        <p><b>夥伴/超級等級：</b>使用 <code>夥伴0-5</code> 或 <code>超級1-3</code> 來篩選。</p>

        <h3>6. 邏輯運算子</h3>
        <p><b>或者 (OR)：</b>使用 <code>,</code> 或 <code>;</code>。例如 <code>快龍,班基拉斯</code>。</p>
        <p><b>而且 (AND)：</b>使用 <code>&</code> 或 <code>|</code>。例如 <code>異色&傳說的寶可夢</code>。</p>
        <p><b>反向 (NOT)：</b>使用 <code>!</code>。例如 <code>!亮晶晶</code> 會顯示所有非亮晶晶的寶可夢。</p>

        <hr>

        <h2>朋友搜尋篩選條件</h2>
        <table>
            <thead>
                <tr>
                    <th>搜尋字詞</th>
                    <th>功能</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>互動</td><td>篩選出今天雙方尚未互動的朋友。</td></tr>
                <tr><td>亮晶晶</td><td>篩選出目前是「亮晶晶好朋友」狀態的朋友。</td></tr>
                <tr><td>友誼等級0-4</td><td>篩選特定友誼等級的朋友。例如 <code>友誼等級4</code>。</td></tr>
                <tr><td>暱稱</td><td>搜尋朋友的暱稱。</td></tr>
            </tbody>
        </table>
    </div>
</div>
        <div id="special-research-app" class="app-content">
            <h1>Pokémon GO 特殊調查任務列表</h1>
            <div id="search-wrapper">
                <input type="text" id="special-search-input" placeholder="搜尋特殊調查名稱...">    <button class="clear-search-btn" aria-label="清除搜尋內容">&times;</button>
            </div>
                
                    <div class="search-options">
            <label for="search-include-all">
                <input type="checkbox" id="search-include-all" checked>
                <span>包含任務及獎勵內容</span>
            </label>
        </div>
                <div id="special-research-container"> <p style="text-align:center; font-size: 1.2em;">正在載入資料，請稍候...</p>
            </div>
        </div>
        <div id="info-hub-app" class="app-content">
            <div class="container">
                <h1>特別資訊</h1>
                <div class="info-section">
                    <h2>捕捉時可獲得較多星星沙子的寶可夢</h2>
                    <p>以下列表中的寶可夢在捕捉時會給予比平常更多的星星沙子。</p>
                    <div id="stardust-bonus-container" class="info-grid">
                        </div>
                </div>
            </div>
        </div>
    </div>
            <footer class="site-footer">
        <p>&copy; <span id="copyright-year"></span> Pokémon Go 工具箱. All rights reserved by their respective owners.</p>
        <p>This website is an unofficial fan-made tool, is not officially affiliated with Pokémon GO, and is intended to fall under Fair Use doctrine, similar to any other informational site such as a wiki.</p>
        <p>Pokémon and its trademarks are &copy;1995-2025 Nintendo, Creatures, and GAME FREAK.</p>
        <p>All images and names owned and trademarked by Nintendo, Niantic, The Pokémon Company, and GAME FREAK are property of their respective owners.</p>
    </footer>
    <script src="data/precomputed_pokemon_cp.js"></script>
    <script src="data/pokemon_translation_map.js"></script>
    <script src="data/pokemon_names_from_api.js"></script>
    <script src="data/pokemon_data_and_rankings.js" defer></script>
    <script src="data/pokemon_images.js" defer></script>
    <script src="js/pvp-logic.js" defer></script>
    <script type="module" src="js/main.js"></script>
<style>
  /* 這是計數器的通用樣式，對手機和電腦都有效 */
  .visitor-counter-container {
    position: fixed;
    z-index: 999;
    display: none;
    align-items: center;
    font-family: 'Helvetica', 'Arial', '微軟正黑體', sans-serif;
  }
  .visitor-counter-container .pokeball-icon {
    transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* 旋轉動畫 */
  }
  /* 讓手機點擊或電腦滑鼠移上時都能觸發旋轉 */
  .visitor-counter-container:active .pokeball-icon,
  .visitor-counter-container:hover .pokeball-icon {
    transform: rotate(360deg);
  }
  .visitor-counter-container .counter-text {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  /* --- 手機與平板樣式 (螢幕寬度小於 1024px) --- */
  /* 【修改點 2】將斷點從 767px 擴大到 1023px */
  @media (max-width: 1023px) {
    .visitor-counter-container {
      bottom: 8px;
      right: 8px;
      padding: 5px 10px;
      background-color: transparent;
      border: none;
      box-shadow: none;
    }
    .visitor-counter-container .pokeball-icon {
      width: 28px;
      height: 28px;
      margin-right: 8px;
    }
    .visitor-counter-container .counter-title {
      font-size: 10px;
      /* 【修改點 1】文字顏色改為深灰色，並搭配白色光暈 */
      color: #333;
      text-shadow: 0 0 2px #fff, 0 0 4px #fff;
    }
    .visitor-counter-container #visitor-count-firebase {
      font-size: 16px;
      font-weight: bold;
      /* 【修改點 1】文字顏色改為黑色，並搭配白色光暈 */
      color: #000;
      text-shadow: 0 0 2px #fff, 0 0 5px #fff;
    }
  }

  /* --- 桌面版樣式 (螢幕寬度大於等於 1024px) --- */
  /* 【修改點 2】將斷點從 768px 提高到 1024px */
  @media (min-width: 1024px) {
    .visitor-counter-container {
      bottom: 20px;
      right: 20px;
      background-color: #ffffff;
      border: 2px solid #dedede;
      border-radius: 15px;
      padding: 8px 18px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      cursor: default;
    }
    .visitor-counter-container .pokeball-icon {
      width: 35px;
      height: 35px;
      margin-right: 12px;
    }
    .visitor-counter-container .counter-title {
      font-size: 12px;
      color: #666;
      font-weight: bold;
    }
    .visitor-counter-container #visitor-count-firebase {
      font-size: 22px;
      font-weight: bold;
      color: #d9534f;
      line-height: 1.2;
    }
  }
</style>
<div class="visitor-counter-container">
  <img src="https://raw.githubusercontent.com/PokeMiners/pogo_assets/refs/heads/master/Images/Items/masterball_sprite.png" alt="Pokéball" class="pokeball-icon">
  <div class="counter-text">
    <span class="counter-title">訪客總數</span>
    <span id="visitor-count-firebase">...</span>
  </div>
</div>
<script src="config.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
  import { getDatabase, ref, runTransaction } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";



  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const counterRef = ref(db, 'pageviews/total');
  // 注意：這裡的 ID 維持 visitor-count-firebase 來匹配 HTML 和 CSS
  const counterElement = document.getElementById('visitor-count-firebase');
  const containerElement = document.querySelector('.visitor-counter-container');

  runTransaction(counterRef, (currentValue) => {
    return (currentValue || 0) + 1;
  }).then((transactionResult) => {
    if (transactionResult.committed) {
      const finalValue = transactionResult.snapshot.val();
      counterElement.textContent = finalValue;
      containerElement.style.display = 'inline-flex';
    }
  }).catch((error) => {
    counterElement.textContent = 'N/A';
    containerElement.style.display = 'inline-flex';
  });
  const pokeball = document.querySelector('.pokeball-icon');

  if (pokeball) {
    const desktopSpeed = 0.4;
    const mobileSpeed = 0.2; // 適度調高手機速度，因為現在是基於變化量
    const rotationSpeed = window.innerWidth >= 1024 ? desktopSpeed : mobileSpeed;
    
    let scrollStopTimer;
    let ticking = false;
    
    // 【修改點 1】新增變數來追蹤上一次的位置和目前的角度
    let lastScrollY = window.scrollY;
    let currentRotation = 0;

    document.addEventListener('scroll', function() {
      // 在滑動時，確保動畫效果是啟用的
      pokeball.style.transition = 'none'; // 滑動時禁用CSS動畫，完全由JS控制
      clearTimeout(scrollStopTimer);

      if (!ticking) {
        window.requestAnimationFrame(function() {
          const currentScrollY = window.scrollY;
          // 【修改點 2】計算捲動的「變化量」，而不是總距離
          const deltaY = currentScrollY - lastScrollY;
          
          // 【修改點 3】將「變化量」加到目前的角度上
          currentRotation += deltaY * rotationSpeed;
          
          pokeball.style.transform = `rotate(${currentRotation}deg)`;

          // 更新上一次的位置，為下一次計算做準備
          lastScrollY = currentScrollY;
          ticking = false;
        });
        ticking = true;
      }

      scrollStopTimer = setTimeout(function() {
        // 【修改點 4】停止時，啟用CSS動畫，並平滑地歸位
        pokeball.style.transition = 'transform 0.3s ease-out';
        pokeball.style.transform = 'rotate(0deg)';
        // 將角度和位置記錄歸零，為下一次滑動做準備
        currentRotation = 0;
        lastScrollY = window.scrollY;
      }, 150);
    });
  }
</script>

</body>

</html>